{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useSelector, useDispatch } from 'react-redux';\n// eslint-disable-next-line\nimport { client } from '../../../index';\nimport { CREATE_USER, LOGIN_USER, GEN_OTP } from '../../../graphql/user';\n// eslint-disable-next-line\nimport { setUsers, setLoading, setErrors, setOTP } from '../../features/user/userSlice';\n// eslint-disable-next-line\n\nexport function useCreateUser() {\n  _s();\n  const dispatch = useDispatch();\n  const createUser = async data => {\n    try {\n      dispatch(setLoading(true));\n      const res = await client.mutate({\n        mutation: CREATE_USER,\n        variables: {\n          createInput: data\n        }\n      });\n      if (res) {\n        var _res$data$createUser;\n        dispatch(setLoading(false));\n        localStorage.setItem(\"token\", (_res$data$createUser = res.data.createUser) === null || _res$data$createUser === void 0 ? void 0 : _res$data$createUser.token);\n      }\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setErrors(error.message));\n    }\n  };\n  return {\n    createUser\n  };\n}\n_s(useCreateUser, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\nexport function useSendOtp() {\n  _s2();\n  const dispatch = useDispatch();\n  const sendOtp = async number => {\n    try {\n      var _res$data, _res$data3;\n      dispatch(setLoading(true));\n      const res = await client.mutate({\n        mutation: GEN_OTP,\n        variables: {\n          mobilenumber: number\n        }\n      });\n      if (res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && _res$data.genOtp.otp) {\n        var _res$data2;\n        dispatch(setLoading(false));\n        dispatch(setOTP(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.genOtp.otp));\n      }\n      if (res !== null && res !== void 0 && (_res$data3 = res.data) !== null && _res$data3 !== void 0 && _res$data3.genOtp.args) {\n        var _res$data4;\n        dispatch(setLoading(false));\n        dispatch(setErrors(res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.genOtp.args));\n      }\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setErrors(error.message));\n    }\n  };\n  return {\n    sendOtp\n  };\n}\n_s2(useSendOtp, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useSelector","useDispatch","client","CREATE_USER","LOGIN_USER","GEN_OTP","setUsers","setLoading","setErrors","setOTP","useCreateUser","_s","dispatch","createUser","data","res","mutate","mutation","variables","createInput","_res$data$createUser","localStorage","setItem","token","error","message","useSendOtp","_s2","sendOtp","number","_res$data","_res$data3","mobilenumber","genOtp","otp","_res$data2","args","_res$data4"],"sources":["/Users/vanshamaggarwal/Documents/GitHub/QueryOverflow/frontend/src/redux/features/user/userActions.js"],"sourcesContent":["import {useSelector,useDispatch} from 'react-redux';\n// eslint-disable-next-line\nimport {client} from '../../../index';\nimport {CREATE_USER,LOGIN_USER,GEN_OTP} from '../../../graphql/user';\n// eslint-disable-next-line\nimport {setUsers,setLoading,setErrors, setOTP} from '../../features/user/userSlice';\n// eslint-disable-next-line\n\nexport function useCreateUser(){\n    const dispatch = useDispatch();\n    const createUser = async (data) => {\n        try \n        {\n            dispatch(setLoading(true))\n            const res = await client.mutate({\n                mutation : CREATE_USER,\n                variables : {\n                    createInput : data\n                }\n            });\n\n            if(res)\n            {\n                dispatch(setLoading(false));\n                localStorage.setItem(\"token\", res.data.createUser?.token);\n            }\n        } \n        catch (error) \n        {\n            dispatch(setLoading(false));\n            dispatch(setErrors(error.message));\n        }\n    }\n    return{\n        createUser\n    }\n}\n\nexport function useSendOtp(){\n    const dispatch = useDispatch();\n    const sendOtp = async (number) => {\n        try \n        {\n            dispatch(setLoading(true));\n            const res = await client.mutate({\n                mutation : GEN_OTP,\n                variables : {\n                    mobilenumber : number\n                }\n            });\n\n            if(res?.data?.genOtp.otp)\n            {\n                dispatch(setLoading(false));\n                dispatch(setOTP(res?.data?.genOtp.otp))\n            }\n\n            if(res?.data?.genOtp.args)\n            {\n                dispatch(setLoading(false));\n                dispatch(setErrors(res?.data?.genOtp.args))\n            }\n        } \n        catch (error) \n        {\n            dispatch(setLoading(false));\n            dispatch(setErrors(error.message));\n        }\n    } \n    return{\n        sendOtp\n    }\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}