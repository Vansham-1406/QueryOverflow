{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useSelector, useDispatch } from 'react-redux';\nimport { client } from '../../../index';\n// eslint-disable-next-line\nimport { CREATE_USER, LOGIN_USER, GEN_OTP } from '../../../graphql/user';\n// eslint-disable-next-line\nimport { setUsers, setLoading, setErrors, setOTP } from '../../features/user/userSlice';\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nexport function useCreateUser() {\n  _s();\n  const dispatch = useDispatch();\n  const userSelector = useSelector(state => state.user);\n  const createUser = async data => {\n    try {\n      var _res$data$createUser, _res$data$createUser4;\n      dispatch(setLoading(true));\n      const res = await client.mutate({\n        mutation: CREATE_USER,\n        variables: {\n          createInput: data\n        }\n      });\n      if ((_res$data$createUser = res.data.createUser) !== null && _res$data$createUser !== void 0 && _res$data$createUser.token) {\n        var _res$data$createUser2, _res$data$createUser3;\n        dispatch(setLoading(false));\n        localStorage.setItem(\"token\", (_res$data$createUser2 = res.data.createUser) === null || _res$data$createUser2 === void 0 ? void 0 : _res$data$createUser2.token);\n        toast.success((_res$data$createUser3 = res.data.createUser) === null || _res$data$createUser3 === void 0 ? void 0 : _res$data$createUser3.message, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n      if ((_res$data$createUser4 = res.data.createUser) !== null && _res$data$createUser4 !== void 0 && _res$data$createUser4.args) {\n        var _res$data$createUser5, _res$data$createUser6;\n        dispatch(setLoading(false));\n        dispatch(setErrors((_res$data$createUser5 = res.data.createUser) === null || _res$data$createUser5 === void 0 ? void 0 : _res$data$createUser5.args));\n        toast.warning((_res$data$createUser6 = res.data.createUser) === null || _res$data$createUser6 === void 0 ? void 0 : _res$data$createUser6.message, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setErrors(error.message));\n    }\n  };\n  return {\n    createUser,\n    userSelector\n  };\n}\n_s(useCreateUser, \"SxscDd+IAavggFTUa0rG2xYqiMQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\nexport function useSendOtp() {\n  _s2();\n  const dispatch = useDispatch();\n  const userSelectorOtp = useSelector(state => state.user);\n  const sendOtp = async number => {\n    try {\n      var _res$data, _res$data3;\n      dispatch(setLoading(true));\n      const res = await client.mutate({\n        mutation: GEN_OTP,\n        variables: {\n          mobilenumber: number\n        }\n      });\n      dispatch(setLoading(false));\n      if (res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && _res$data.genOtp.otp) {\n        var _res$data2;\n        dispatch(setOTP(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.genOtp.otp));\n      }\n      if (res !== null && res !== void 0 && (_res$data3 = res.data) !== null && _res$data3 !== void 0 && _res$data3.genOtp.args) {\n        var _res$data4, _res$data$genOtp;\n        dispatch(setErrors(res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.genOtp.message));\n        toast.error(((_res$data$genOtp = res.data.genOtp) === null || _res$data$genOtp === void 0 ? void 0 : _res$data$genOtp.args) + \" does not exist\", {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    } catch (error) {\n      dispatch(setLoading(false));\n      dispatch(setErrors(error.message));\n    }\n  };\n  return {\n    sendOtp,\n    userSelectorOtp\n  };\n}\n_s2(useSendOtp, \"eKcluKJSQ5pD2es1itmm2RNOyOw=\", false, function () {\n  return [useDispatch, useSelector];\n});","map":{"version":3,"names":["useSelector","useDispatch","client","CREATE_USER","LOGIN_USER","GEN_OTP","setUsers","setLoading","setErrors","setOTP","toast","useCreateUser","_s","dispatch","userSelector","state","user","createUser","data","_res$data$createUser","_res$data$createUser4","res","mutate","mutation","variables","createInput","token","_res$data$createUser2","_res$data$createUser3","localStorage","setItem","success","message","position","POSITION","TOP_RIGHT","args","_res$data$createUser5","_res$data$createUser6","warning","error","useSendOtp","_s2","userSelectorOtp","sendOtp","number","_res$data","_res$data3","mobilenumber","genOtp","otp","_res$data2","_res$data4","_res$data$genOtp"],"sources":["/Users/vanshamaggarwal/Documents/GitHub/QueryOverflow/frontend/src/redux/features/user/userActions.js"],"sourcesContent":["import {useSelector,useDispatch} from 'react-redux';\nimport {client} from '../../../index';\n// eslint-disable-next-line\nimport {CREATE_USER,LOGIN_USER,GEN_OTP} from '../../../graphql/user';\n// eslint-disable-next-line\nimport {setUsers,setLoading,setErrors, setOTP} from '../../features/user/userSlice';\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport function useCreateUser(){\n    const dispatch = useDispatch();\n    const userSelector = useSelector((state)=>state.user);\n    const createUser = async (data) => {\n        try \n        {\n            dispatch(setLoading(true))\n            const res = await client.mutate({\n                mutation : CREATE_USER,\n                variables : {\n                    createInput : data\n                }\n            });\n\n            if(res.data.createUser?.token)\n            {\n                dispatch(setLoading(false));\n                localStorage.setItem(\"token\", res.data.createUser?.token);\n                toast.success(res.data.createUser?.message, {\n                    position: toast.POSITION.TOP_RIGHT,\n                  });\n            }\n\n            if(res.data.createUser?.args)\n            {\n                dispatch(setLoading(false));\n                dispatch(setErrors(res.data.createUser?.args));\n                toast.warning(res.data.createUser?.message, {\n                    position: toast.POSITION.TOP_RIGHT,\n                  });\n            }\n        } \n        catch (error) \n        {\n            dispatch(setLoading(false));\n            dispatch(setErrors(error.message));\n        }\n    }\n    return{\n        createUser,\n        userSelector\n    }\n}\n\nexport function useSendOtp(){\n    const dispatch = useDispatch();\n    const userSelectorOtp = useSelector((state)=>state.user);\n    const sendOtp = async (number) => {\n        try \n        {\n            dispatch(setLoading(true));\n            const res = await client.mutate({\n                mutation : GEN_OTP,\n                variables : {\n                    mobilenumber : number\n                }\n            });\n\n            dispatch(setLoading(false));\n            if(res?.data?.genOtp.otp)\n            {\n                dispatch(setOTP(res?.data?.genOtp.otp))\n            }\n\n            if(res?.data?.genOtp.args)\n            {\n                dispatch(setErrors(res?.data?.genOtp.message))\n                toast.error(res.data.genOtp?.args + \" does not exist\", {\n                    position: toast.POSITION.TOP_RIGHT,\n                  });\n            }\n        } \n        catch (error) \n        {\n            dispatch(setLoading(false));\n            dispatch(setErrors(error.message));\n        }\n    } \n    return{\n        sendOtp,\n        userSelectorOtp\n    }\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}